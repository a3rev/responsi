!function(a){responsiCustomFields={adjust_form_encoding:function(){a("form#post").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")},setup_wordcounters:function(){a(".words-count").length&&a(".words-count").each(function(){var b="",c="",d=a(this).val().length,e=a(this).val().split(/\b[\s,\.-:;]*/).length;1!=d&&(b="s"),1!=e&&(c="s"),""==a(this).val()&&(c="s",e="0"),a(this).parent().find(".counter").html(d+" character"+b+", "+e+" word"+c),a(this).keyup(function(){var b="",c="",d=a(this).val().length,e=a(this).val().split(/\b[\s,\.-:;]*/).length;1!=d&&(b="s"),1!=e&&(c="s"),""==a(this).val()&&(e="0"),a(this).parent().find(".counter").html(d+" character"+b+", "+e+" word"+c)})})},setup_image_selectors:function(){a(".responsi-metabox-radio-img-img, .responsi-radio-img-img").length&&(a(".responsi-metabox-radio-img-img, .responsi-radio-img-img").click(function(){a(this).parent().parent().find(".responsi-metabox-radio-img-img").removeClass("responsi-metabox-radio-img-selected"),a(this).parent().parent().find(".responsi-radio-img-img").removeClass("responsi-radio-img-selected"),a(this).addClass("responsi-metabox-radio-img-selected").addClass("responsi-radio-img-selected");var b=a(this).siblings("input").attr("id");if(responsiCustomFields.setup_image_selectors_click(b),a(this).siblings("input").length>0){var c=a(this).siblings("input").val().toString();a(this).siblings("input").trigger("responsi-metabox-radio-img-switch",[a(this).siblings("input"),c])}}),a(".responsi-metabox-radio-img-label, .responsi-metabox-radio-img-radio, .responsi-radio-img-label, .responsi-radio-img-radio").hide(),a(".responsi-metabox-radio-img-img, .responsi-radio-img-img").show(),a(".group .page-layout").each(function(){var b=a(this).find("input.responsi-radio-img-radio:checked").val();a(this).find("input.responsi-radio-img-radio:checked").parent().parent().parent().parent(".page-layout").nextAll().each(function(){return a(this).hasClass("pagelast")?("one-col"==b&&a(this).find("input.responsi-radio-img-radio").each(function(){a(this).siblings("img").show()}),("two-col-left"==b||"two-col-right"==b)&&(a(this).find("input.responsi-radio-img-radio").each(function(){6==a(this).val()?a(this).siblings("img").hide():a(this).siblings("img").show()}),a(this).is(":checked")&&a(this).val()>=5&&(a(this).parent().parent().find(".responsi-radio-img-selected").removeClass("responsi-radio-img-selected"),a(this).parent().parent().find("input.responsi-radio-img-radio").each(function(){5==a(this).val()&&(a(this).prop("checked",!0),a(this).siblings("img").addClass("responsi-radio-img-selected"))}))),("three-col-left"==b||"three-col-middle"==b||"three-col-right"==b)&&(a(this).find("input.responsi-radio-img-radio").each(function(){5==a(this).val()||6==a(this).val()?a(this).siblings("img").hide():a(this).siblings("img").show()}),a(this).is(":checked")&&a(this).val()>=5&&(a(this).parent().parent().find(".responsi-radio-img-selected").removeClass("responsi-radio-img-selected"),a(this).parent().parent().find("input.responsi-radio-img-radio").each(function(){4==a(this).val()&&(a(this).prop("checked",!0),a(this).siblings("img").addClass("responsi-radio-img-selected"))}))),!1):("one-col"==b&&a(this).find("input.responsi-radio-img-radio").each(function(){a(this).siblings("img").show()}),("two-col-left"==b||"two-col-right"==b)&&a(this).find("input.responsi-radio-img-radio").each(function(){6==a(this).val()?a(this).siblings("img").hide():a(this).siblings("img").show(),a(this).is(":checked")&&a(this).val()>=5&&(a(this).parent().parent().find(".responsi-radio-img-selected").removeClass("responsi-radio-img-selected"),a(this).parent().parent().find("input.responsi-radio-img-radio").each(function(){5==a(this).val()&&(a(this).prop("checked",!0),a(this).siblings("img").addClass("responsi-radio-img-selected"))}))}),void(("three-col-left"==b||"three-col-middle"==b||"three-col-right"==b)&&a(this).find("input.responsi-radio-img-radio").each(function(){5==a(this).val()||6==a(this).val()?a(this).siblings("img").hide():a(this).siblings("img").show(),a(this).is(":checked")&&a(this).val()>=5&&(a(this).parent().parent().find(".responsi-radio-img-selected").removeClass("responsi-radio-img-selected"),a(this).parent().parent().find("input.responsi-radio-img-radio").each(function(){4==a(this).val()&&(a(this).prop("checked",!0),a(this).siblings("img").addClass("responsi-radio-img-selected"))}))})))})}))},setup_image_selectors_click:function(b){objID=a("#"+b),objID.parent().parent().parent().parent(".page-layout").nextAll().each(function(){return a(this).filter(".pagelast").length?("one-col"==objID.val()&&a(this).find("input.responsi-radio-img-radio").each(function(){a(this).siblings("img").show()}),("two-col-left"==objID.val()||"two-col-right"==objID.val())&&a(this).find("input.responsi-radio-img-radio").each(function(){6==a(this).val()?a(this).siblings("img").hide():a(this).siblings("img").show(),a(this).is(":checked")&&a(this).val()>=6&&(a(this).parent().parent().find(".responsi-radio-img-selected").removeClass("responsi-radio-img-selected"),a(this).parent().parent().find("input.responsi-radio-img-radio").each(function(){5==a(this).val()&&(a(this).prop("checked",!0),a(this).siblings("img").addClass("responsi-radio-img-selected"))}))}),("three-col-left"==objID.val()||"three-col-middle"==objID.val()||"three-col-right"==objID.val())&&a(this).find("input.responsi-radio-img-radio").each(function(){5==a(this).val()||6==a(this).val()?a(this).siblings("img").hide():a(this).siblings("img").show(),a(this).is(":checked")&&a(this).val()>=5&&(a(this).parent().parent().find(".responsi-radio-img-selected").removeClass("responsi-radio-img-selected"),a(this).parent().parent().find("input.responsi-radio-img-radio").each(function(){4==a(this).val()&&(a(this).prop("checked",!0),a(this).siblings("img").addClass("responsi-radio-img-selected"))}))}),!1):("one-col"==objID.val()&&a(this).find("input.responsi-radio-img-radio").each(function(){a(this).siblings("img").show()}),("two-col-left"==objID.val()||"two-col-right"==objID.val())&&a(this).find("input.responsi-radio-img-radio").each(function(){6==a(this).val()?a(this).siblings("img").hide():a(this).siblings("img").show(),a(this).parent().parent().find(".responsi-radio-img-selected").removeClass("responsi-radio-img-selected"),a(this).parent().parent().find("input.responsi-radio-img-radio").each(function(){5==a(this).val()&&(a(this).prop("checked",!0),a(this).siblings("img").addClass("responsi-radio-img-selected"))})}),void(("three-col-left"==objID.val()||"three-col-middle"==objID.val()||"three-col-right"==objID.val())&&a(this).find("input.responsi-radio-img-radio").each(function(){5==a(this).val()||6==a(this).val()?a(this).siblings("img").hide():a(this).siblings("img").show(),a(this).is(":checked")&&a(this).val()>=5&&(a(this).parent().parent().find(".responsi-radio-img-selected").removeClass("responsi-radio-img-selected"),a(this).parent().parent().find("input.responsi-radio-img-radio").each(function(){4==a(this).val()&&(a(this).prop("checked",!0),a(this).siblings("img").addClass("responsi-radio-img-selected"))}))})))})},setup_meta_image_selectors_click:function(){var b=a("input.responsi-metabox-radio-img-radio:checked").val();("two-col-left"==b||"two-col-right"==b)&&a("#responsi-metabox-radio-img-content_layout1").parent().parent().find("img.responsi-metabox-radio-img-img").each(function(b){6==b&&a(this).hide()}),("three-col-left"==b||"three-col-middle"==b||"three-col-right"==b)&&a("#responsi-metabox-radio-img-content_layout1").parent().parent().find("img.responsi-metabox-radio-img-img").each(function(b){(5==b||6==b)&&a(this).hide()}),a(document).on("click",".responsi-metabox-radio-img-img",function(){var b=a(this).attr("onclick").replace("document.getElementById('responsi-metabox-radio-img-layout","").replace("').checked = true;",""),c=a(this).attr("onclick").replace("document.getElementById('responsi-metabox-radio-img-content_layout","").replace("').checked = true;","");1==b&&(a("img.responsi-metabox-radio-img-img").show(),a("#responsi-metabox-radio-img-content_layout"+b).prop("checked",!0),a("#responsi-metabox-radio-img-content_layout"+b).parent().parent().find(".responsi-metabox-radio-img-img").removeClass("responsi-metabox-radio-img-selected"),a("#responsi-metabox-radio-img-content_layout"+b).parent().parent().find("img.responsi-metabox-radio-img-img").each(function(c){c==b-1&&a(this).addClass("responsi-metabox-radio-img-selected")})),1==c&&(a("#responsi-metabox-radio-img-layout"+c).prop("checked",!0),a("#responsi-metabox-radio-img-layout"+c).parent().parent().find(".responsi-metabox-radio-img-img").removeClass("responsi-metabox-radio-img-selected"),a("#responsi-metabox-radio-img-layout"+c).parent().parent().find("img.responsi-metabox-radio-img-img").each(function(b){b==c-1&&a(this).addClass("responsi-metabox-radio-img-selected")})),2==b&&(a("img.responsi-metabox-radio-img-img").show(),a("input#responsi-metabox-radio-img-content_layout1").is(":checked")&&(a("#responsi-metabox-radio-img-content_layout6").prop("checked",!0),a("#responsi-metabox-radio-img-content_layout"+b).parent().parent().find(".responsi-metabox-radio-img-img").removeClass("responsi-metabox-radio-img-selected"),a("#responsi-metabox-radio-img-content_layout"+b).parent().parent().find("img.responsi-metabox-radio-img-img").each(function(b){6==b&&a(this).addClass("responsi-metabox-radio-img-selected")}))),(3==b||4==b)&&(a("img.responsi-metabox-radio-img-img").show(),a("#responsi-metabox-radio-img-content_layout"+b).parent().parent().find("img.responsi-metabox-radio-img-img").each(function(b){6==b&&a(this).hide()}),(a("input#responsi-metabox-radio-img-content_layout1").is(":checked")||a("input#responsi-metabox-radio-img-content_layout6").is(":checked"))&&(a("#responsi-metabox-radio-img-content_layout5").prop("checked",!0),a("#responsi-metabox-radio-img-content_layout"+b).parent().parent().find(".responsi-metabox-radio-img-img").removeClass("responsi-metabox-radio-img-selected"),a("#responsi-metabox-radio-img-content_layout"+b).parent().parent().find("img.responsi-metabox-radio-img-img").each(function(b){5==b&&a(this).addClass("responsi-metabox-radio-img-selected")}))),(5==b||6==b||7==b)&&(a("img.responsi-metabox-radio-img-img").show(),a("#responsi-metabox-radio-img-content_layout1").parent().parent().find("img.responsi-metabox-radio-img-img").each(function(b){(5==b||6==b)&&a(this).hide()}),(a("input#responsi-metabox-radio-img-content_layout1").is(":checked")||a("input#responsi-metabox-radio-img-content_layout5").is(":checked")||a("input#responsi-metabox-radio-img-content_layout6").is(":checked"))&&(a("#responsi-metabox-radio-img-content_layout4").prop("checked",!0),a("#responsi-metabox-radio-img-content_layout1").parent().parent().find(".responsi-metabox-radio-img-img").removeClass("responsi-metabox-radio-img-selected"),a("#responsi-metabox-radio-img-content_layout1").parent().parent().find("img.responsi-metabox-radio-img-img").each(function(b){4==b&&a(this).addClass("responsi-metabox-radio-img-selected")})))})},setup_colourpickers:function(){jQuery().ColorPicker&&a(".section-typography, .section-border, .section-color").length&&a(".section-typography, .section-border, .section-color").each(function(){var b=a(this).find(".responsi-color").attr("id"),c=a(this).find(".responsi-color").val(),d=b+="_picker";(a(this).hasClass("section-typography")||a(this).hasClass("section-border"))&&(b+="_color"),a("#"+d).children("div").css("backgroundColor",c),a("#"+d).ColorPicker({color:c,onShow:function(a){return jQuery(a).fadeIn(200),!1},onHide:function(a){return jQuery(a).fadeOut(200),!1},onChange:function(b,c,e){a("#"+d).children("div").css("backgroundColor","#"+c),a("#"+d).next("input").attr("value","#"+c)}})})},setup_field_tabber:function(){a(".responsi-metabox-tabs").tabs()},setup_upload_titletest:function(){if(a("input#title").length){var b=a("input#title").attr("value");""==b&&a(".responsi-metabox-fields .button-highlighted").after('<em class="responsi-metabox-rednote">Please add a Title before uploading a file</em>')}}},a(document).ready(function(){responsiCustomFields.adjust_form_encoding(),responsiCustomFields.setup_wordcounters(),responsiCustomFields.setup_image_selectors(),responsiCustomFields.setup_meta_image_selectors_click(),responsiCustomFields.setup_upload_titletest(),responsiCustomFields.setup_field_tabber()})}(jQuery);