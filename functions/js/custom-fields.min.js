!function(i){responsiCustomFields={adjust_form_encoding:function(){i("form#post").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")},setup_wordcounters:function(){i(".words-count").length&&i(".words-count").each(function(){var e="",s="",t=i(this).val().length,o=i(this).val().split(/\b[\s,\.-:;]*/).length;1!=t&&(e="s"),1!=o&&(s="s"),""==i(this).val()&&(s="s",o="0"),i(this).parent().find(".counter").html(t+" character"+e+", "+o+" word"+s),i(this).keyup(function(){var e="",s="",t=i(this).val().length,o=i(this).val().split(/\b[\s,\.-:;]*/).length;1!=t&&(e="s"),1!=o&&(s="s"),""==i(this).val()&&(o="0"),i(this).parent().find(".counter").html(t+" character"+e+", "+o+" word"+s)})})},setup_image_selectors:function(){i(".responsi-metabox-radio-img-img, .responsi-radio-img-img").length&&(i(".responsi-metabox-radio-img-img, .responsi-radio-img-img").click(function(){i(this).parent().parent().find(".responsi-metabox-radio-img-img").removeClass("responsi-metabox-radio-img-selected"),i(this).parent().parent().find(".responsi-radio-img-img").removeClass("responsi-radio-img-selected"),i(this).addClass("responsi-metabox-radio-img-selected").addClass("responsi-radio-img-selected");var e=i(this).siblings("input").attr("id");if(responsiCustomFields.setup_image_selectors_click(e),i(this).siblings("input").length>0){var s=i(this).siblings("input").val().toString();i(this).siblings("input").trigger("responsi-metabox-radio-img-switch",[i(this).siblings("input"),s])}}),i(".responsi-metabox-radio-img-label, .responsi-metabox-radio-img-radio, .responsi-radio-img-label, .responsi-radio-img-radio").hide(),i(".responsi-metabox-radio-img-img, .responsi-radio-img-img").show(),i(".group .page-layout").each(function(){var e=i(this).find("input.responsi-radio-img-radio:checked").val();i(this).find("input.responsi-radio-img-radio:checked").parent().parent().parent().parent(".page-layout").nextAll().each(function(){return i(this).hasClass("pagelast")?("one-col"==e&&i(this).find("input.responsi-radio-img-radio").each(function(){i(this).siblings("img").show()}),("two-col-left"==e||"two-col-right"==e)&&(i(this).find("input.responsi-radio-img-radio").each(function(){6==i(this).val()?i(this).siblings("img").hide():i(this).siblings("img").show()}),i(this).is(":checked")&&i(this).val()>=5&&(i(this).parent().parent().find(".responsi-radio-img-selected").removeClass("responsi-radio-img-selected"),i(this).parent().parent().find("input.responsi-radio-img-radio").each(function(){5==i(this).val()&&(i(this).prop("checked",!0),i(this).siblings("img").addClass("responsi-radio-img-selected"))}))),("three-col-left"==e||"three-col-middle"==e||"three-col-right"==e)&&(i(this).find("input.responsi-radio-img-radio").each(function(){5==i(this).val()||6==i(this).val()?i(this).siblings("img").hide():i(this).siblings("img").show()}),i(this).is(":checked")&&i(this).val()>=5&&(i(this).parent().parent().find(".responsi-radio-img-selected").removeClass("responsi-radio-img-selected"),i(this).parent().parent().find("input.responsi-radio-img-radio").each(function(){4==i(this).val()&&(i(this).prop("checked",!0),i(this).siblings("img").addClass("responsi-radio-img-selected"))}))),!1):("one-col"==e&&i(this).find("input.responsi-radio-img-radio").each(function(){i(this).siblings("img").show()}),("two-col-left"==e||"two-col-right"==e)&&i(this).find("input.responsi-radio-img-radio").each(function(){6==i(this).val()?i(this).siblings("img").hide():i(this).siblings("img").show(),i(this).is(":checked")&&i(this).val()>=5&&(i(this).parent().parent().find(".responsi-radio-img-selected").removeClass("responsi-radio-img-selected"),i(this).parent().parent().find("input.responsi-radio-img-radio").each(function(){5==i(this).val()&&(i(this).prop("checked",!0),i(this).siblings("img").addClass("responsi-radio-img-selected"))}))}),void(("three-col-left"==e||"three-col-middle"==e||"three-col-right"==e)&&i(this).find("input.responsi-radio-img-radio").each(function(){5==i(this).val()||6==i(this).val()?i(this).siblings("img").hide():i(this).siblings("img").show(),i(this).is(":checked")&&i(this).val()>=5&&(i(this).parent().parent().find(".responsi-radio-img-selected").removeClass("responsi-radio-img-selected"),i(this).parent().parent().find("input.responsi-radio-img-radio").each(function(){4==i(this).val()&&(i(this).prop("checked",!0),i(this).siblings("img").addClass("responsi-radio-img-selected"))}))})))})}))},setup_image_selectors_click:function(e){objID=i("#"+e),objID.parent().parent().parent().parent(".page-layout").nextAll().each(function(){return i(this).filter(".pagelast").length?("one-col"==objID.val()&&i(this).find("input.responsi-radio-img-radio").each(function(){i(this).siblings("img").show()}),("two-col-left"==objID.val()||"two-col-right"==objID.val())&&i(this).find("input.responsi-radio-img-radio").each(function(){6==i(this).val()?i(this).siblings("img").hide():i(this).siblings("img").show(),i(this).is(":checked")&&i(this).val()>=6&&(i(this).parent().parent().find(".responsi-radio-img-selected").removeClass("responsi-radio-img-selected"),i(this).parent().parent().find("input.responsi-radio-img-radio").each(function(){5==i(this).val()&&(i(this).prop("checked",!0),i(this).siblings("img").addClass("responsi-radio-img-selected"))}))}),("three-col-left"==objID.val()||"three-col-middle"==objID.val()||"three-col-right"==objID.val())&&i(this).find("input.responsi-radio-img-radio").each(function(){5==i(this).val()||6==i(this).val()?i(this).siblings("img").hide():i(this).siblings("img").show(),i(this).is(":checked")&&i(this).val()>=5&&(i(this).parent().parent().find(".responsi-radio-img-selected").removeClass("responsi-radio-img-selected"),i(this).parent().parent().find("input.responsi-radio-img-radio").each(function(){4==i(this).val()&&(i(this).prop("checked",!0),i(this).siblings("img").addClass("responsi-radio-img-selected"))}))}),!1):("one-col"==objID.val()&&i(this).find("input.responsi-radio-img-radio").each(function(){i(this).siblings("img").show()}),("two-col-left"==objID.val()||"two-col-right"==objID.val())&&i(this).find("input.responsi-radio-img-radio").each(function(){6==i(this).val()?i(this).siblings("img").hide():i(this).siblings("img").show(),i(this).parent().parent().find(".responsi-radio-img-selected").removeClass("responsi-radio-img-selected"),i(this).parent().parent().find("input.responsi-radio-img-radio").each(function(){5==i(this).val()&&(i(this).prop("checked",!0),i(this).siblings("img").addClass("responsi-radio-img-selected"))})}),void(("three-col-left"==objID.val()||"three-col-middle"==objID.val()||"three-col-right"==objID.val())&&i(this).find("input.responsi-radio-img-radio").each(function(){5==i(this).val()||6==i(this).val()?i(this).siblings("img").hide():i(this).siblings("img").show(),i(this).is(":checked")&&i(this).val()>=5&&(i(this).parent().parent().find(".responsi-radio-img-selected").removeClass("responsi-radio-img-selected"),i(this).parent().parent().find("input.responsi-radio-img-radio").each(function(){4==i(this).val()&&(i(this).prop("checked",!0),i(this).siblings("img").addClass("responsi-radio-img-selected"))}))})))})},setup_meta_image_selectors_click:function(){var e=i("input.responsi-metabox-radio-img-radio:checked").val();("two-col-left"==e||"two-col-right"==e)&&i("#responsi-metabox-radio-img-content_layout1").parent().parent().find("img.responsi-metabox-radio-img-img").each(function(e){6==e&&i(this).hide()}),("three-col-left"==e||"three-col-middle"==e||"three-col-right"==e)&&i("#responsi-metabox-radio-img-content_layout1").parent().parent().find("img.responsi-metabox-radio-img-img").each(function(e){(5==e||6==e)&&i(this).hide()}),i(document).on("click",".responsi-metabox-radio-img-img",function(){var e=i(this).attr("onclick").replace("document.getElementById('responsi-metabox-radio-img-layout","").replace("').checked = true;",""),s=i(this).attr("onclick").replace("document.getElementById('responsi-metabox-radio-img-content_layout","").replace("').checked = true;","");1==e&&(i("img.responsi-metabox-radio-img-img").show(),i("#responsi-metabox-radio-img-content_layout"+e).prop("checked",!0),i("#responsi-metabox-radio-img-content_layout"+e).parent().parent().find(".responsi-metabox-radio-img-img").removeClass("responsi-metabox-radio-img-selected"),i("#responsi-metabox-radio-img-content_layout"+e).parent().parent().find("img.responsi-metabox-radio-img-img").each(function(s){s==e-1&&i(this).addClass("responsi-metabox-radio-img-selected")})),1==s&&(i("#responsi-metabox-radio-img-layout"+s).prop("checked",!0),i("#responsi-metabox-radio-img-layout"+s).parent().parent().find(".responsi-metabox-radio-img-img").removeClass("responsi-metabox-radio-img-selected"),i("#responsi-metabox-radio-img-layout"+s).parent().parent().find("img.responsi-metabox-radio-img-img").each(function(e){e==s-1&&i(this).addClass("responsi-metabox-radio-img-selected")})),2==e&&(i("img.responsi-metabox-radio-img-img").show(),i("input#responsi-metabox-radio-img-content_layout1").is(":checked")&&(i("#responsi-metabox-radio-img-content_layout6").prop("checked",!0),i("#responsi-metabox-radio-img-content_layout"+e).parent().parent().find(".responsi-metabox-radio-img-img").removeClass("responsi-metabox-radio-img-selected"),i("#responsi-metabox-radio-img-content_layout"+e).parent().parent().find("img.responsi-metabox-radio-img-img").each(function(e){6==e&&i(this).addClass("responsi-metabox-radio-img-selected")}))),(3==e||4==e)&&(i("img.responsi-metabox-radio-img-img").show(),i("#responsi-metabox-radio-img-content_layout"+e).parent().parent().find("img.responsi-metabox-radio-img-img").each(function(e){6==e&&i(this).hide()}),(i("input#responsi-metabox-radio-img-content_layout1").is(":checked")||i("input#responsi-metabox-radio-img-content_layout6").is(":checked"))&&(i("#responsi-metabox-radio-img-content_layout5").prop("checked",!0),i("#responsi-metabox-radio-img-content_layout"+e).parent().parent().find(".responsi-metabox-radio-img-img").removeClass("responsi-metabox-radio-img-selected"),i("#responsi-metabox-radio-img-content_layout"+e).parent().parent().find("img.responsi-metabox-radio-img-img").each(function(e){5==e&&i(this).addClass("responsi-metabox-radio-img-selected")}))),(5==e||6==e||7==e)&&(i("img.responsi-metabox-radio-img-img").show(),i("#responsi-metabox-radio-img-content_layout1").parent().parent().find("img.responsi-metabox-radio-img-img").each(function(e){(5==e||6==e)&&i(this).hide()}),(i("input#responsi-metabox-radio-img-content_layout1").is(":checked")||i("input#responsi-metabox-radio-img-content_layout5").is(":checked")||i("input#responsi-metabox-radio-img-content_layout6").is(":checked"))&&(i("#responsi-metabox-radio-img-content_layout4").prop("checked",!0),i("#responsi-metabox-radio-img-content_layout1").parent().parent().find(".responsi-metabox-radio-img-img").removeClass("responsi-metabox-radio-img-selected"),i("#responsi-metabox-radio-img-content_layout1").parent().parent().find("img.responsi-metabox-radio-img-img").each(function(e){4==e&&i(this).addClass("responsi-metabox-radio-img-selected")})))})},setup_colourpickers:function(){jQuery().ColorPicker&&i(".section-typography, .section-border, .section-color").length&&i(".section-typography, .section-border, .section-color").each(function(){var e=i(this).find(".responsi-color").attr("id"),s=i(this).find(".responsi-color").val(),t=e+="_picker";(i(this).hasClass("section-typography")||i(this).hasClass("section-border"))&&(e+="_color"),i("#"+t).children("div").css("backgroundColor",s),i("#"+t).ColorPicker({color:s,onShow:function(i){return jQuery(i).fadeIn(200),!1},onHide:function(i){return jQuery(i).fadeOut(200),!1},onChange:function(e,s,o){i("#"+t).children("div").css("backgroundColor","#"+s),i("#"+t).next("input").attr("value","#"+s)}})})},setup_field_tabber:function(){i(".responsi-metabox-tabs").tabs()},setup_upload_titletest:function(){if(i("input#title").length){var e=i("input#title").attr("value");""==e&&i(".responsi-metabox-fields .button-highlighted").after('<em class="responsi-metabox-rednote">Please add a Title before uploading a file</em>')}}},i(document).ready(function(){responsiCustomFields.adjust_form_encoding(),responsiCustomFields.setup_wordcounters(),responsiCustomFields.setup_image_selectors(),responsiCustomFields.setup_meta_image_selectors_click(),responsiCustomFields.setup_upload_titletest(),responsiCustomFields.setup_field_tabber()})}(jQuery);