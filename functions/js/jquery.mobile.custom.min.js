/*
 jQuery hashchange event - v1.3 - 7/21/2010
 http://benalman.com/projects/jquery-hashchange-plugin/

 Copyright (c) 2010 "Cowboy" Ben Alman
 Dual licensed under the MIT and GPL licenses.
 http://benalman.com/about/license/
 jQuery UI Core c0ab71056b936627e8a7821f03c044aec6280a40
 http://jqueryui.com

 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/category/ui-core/
 matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */
(function(n,l,p){"function"===typeof define&&define.amd?define(["jquery"],function(w){p(w,n,l);return w.mobile}):p(n.jQuery,n,l)})(this,document,function(n,l,p,w){(function(a,m,h){function g(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}"$:nomunge";var b=a.event.special,f=p.documentMode,c="onhashchange"in m&&(f===h||7<f);a.fn.hashchange=function(a){return a?this.bind("hashchange",a):this.trigger("hashchange")};a.fn.hashchange.delay=50;b.hashchange=a.extend(b.hashchange,{setup:function(){if(c)return!1;
a(d.start)},teardown:function(){if(c)return!1;a(d.stop)}});var d=function(){function d(){var e=g(),c=l(b);e!==b?(x(b=e,c),a(m).trigger("hashchange")):c!==b&&(location.href=location.href.replace(/#.*/,"")+c);k=setTimeout(d,a.fn.hashchange.delay)}var e={},k,b=g(),f=function(a){return a},x=f,l=f;e.start=function(){k||d()};e.stop=function(){k&&clearTimeout(k);k=h};m.attachEvent&&!m.addEventListener&&!c&&function(){var c,b;e.start=function(){c||(b=(b=a.fn.hashchange.src)&&b+g(),c=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",
function(){b||x(g());d()}).attr("src",b||"javascript:0").insertAfter("body")[0].contentWindow,p.onpropertychange=function(){try{"title"===event.propertyName&&(c.document.title=p.title)}catch(I){}})};e.stop=f;l=function(){return g(c.location.href)};x=function(e,d){var b=c.document,k=a.fn.hashchange.domain;e!==d&&(b.title=p.title,b.open(),k&&b.write('<script>document.domain="'+k+'"\x3c/script>'),b.close(),c.location.hash=e)}}();return e}()})(n,this);n.mobile={};n.extend(n.mobile,{version:"1.4.5",subPageUrlKey:"ui-page",
hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:0,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,buttonMarkup:{hoverDelay:200},
dynamicBaseEnabled:!0,pageContainer:n(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"});(function(a,m,h){var g={},b=a.find,f=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,c=/:jqmData\(([^)]*)\)/g;a.extend(a.mobile,{ns:"",getAttribute:function(d,c){var e;(d=d.jquery?d[0]:d)&&d.getAttribute&&(e=d.getAttribute("data-"+a.mobile.ns+c));try{e="true"===e?!0:"false"===e?!1:"null"===e?null:+e+""===e?+e:f.test(e)?JSON.parse(e):e}catch(k){}return e},nsNormalizeDict:g,nsNormalize:function(d){return g[d]||(g[d]=
a.camelCase(a.mobile.ns+d))},closestPageData:function(a){return a.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}});a.fn.jqmData=function(d,c){if("undefined"!==typeof d){d&&(d=a.mobile.nsNormalize(d));var e=2>arguments.length||c===h?this.data(d):this.data(d,c)}return e};a.jqmData=function(d,c,e){var b;"undefined"!==typeof c&&(b=a.data(d,c?a.mobile.nsNormalize(c):c,e));return b};a.fn.jqmRemoveData=function(c){return this.removeData(a.mobile.nsNormalize(c))};a.jqmRemoveData=
function(c,b){return a.removeData(c,a.mobile.nsNormalize(b))};a.find=function(d,f,e,k){-1<d.indexOf(":jqmData")&&(d=d.replace(c,"[data-"+(a.mobile.ns||"")+"$1]"));return b.call(this,d,f,e,k)};a.extend(a.find,b)})(n,this);(function(a,m){function h(c,d){var b=c.nodeName.toLowerCase();if("area"===b){b=c.parentNode;var e=b.name;if(!c.href||!e||"map"!==b.nodeName.toLowerCase())return!1;b=a("img[usemap=#"+e+"]")[0];return!!b&&g(b)}return(/input|select|textarea|button|object/.test(b)?!c.disabled:"a"===b?
c.href||d:d)&&g(c)}function g(c){return a.expr.filters.visible(c)&&!a(c).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var b=0,f=/^ui-id-\d+$/;a.ui=a.ui||{};a.extend(a.ui,{version:"c0ab71056b936627e8a7821f03c044aec6280a40",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});a.fn.extend({focus:function(c){return function(b,f){return"number"===typeof b?
this.each(function(){var e=this;setTimeout(function(){a(e).focus();f&&f.call(e)},b)}):c.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var c=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,
"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!c.length?a(this[0].ownerDocument||p):c},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++b)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}});a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(c){return function(b){return!!a.data(b,c)}}):function(c,b,f){return!!a.data(c,f[3])},focusable:function(c){return h(c,
!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var b=a.attr(c,"tabindex"),f=isNaN(b);return(f||0<=b)&&h(c,!f)}});a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,d){function c(b,c,d,k){a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0;d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0);k&&(c-=parseFloat(a.css(b,"margin"+this))||0)});return c}var e="Width"===d?["Left","Right"]:["Top","Bottom"],k=d.toLowerCase(),t={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,
outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(e){return e===m?t["inner"+d].call(this):this.each(function(){a(this).css(k,c(this,e)+"px")})};a.fn["outer"+d]=function(e,b){return"number"!==typeof e?t["outer"+d].call(this,e):this.each(function(){a(this).css(k,c(this,e,!0,b)+"px")})}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=
function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData));a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());a.support.selectstart="onselectstart"in p.createElement("div");a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(b){if(b!==
m)return this.css("zIndex",b);if(this.length){b=a(this[0]);for(var c;b.length&&b[0]!==p;){c=b.css("position");if("absolute"===c||"relative"===c||"fixed"===c)if(c=parseInt(b.css("zIndex"),10),!isNaN(c)&&0!==c)return c;b=b.parent()}}return 0}});a.ui.plugin={add:function(b,d,f){var e;b=a.ui[b].prototype;for(e in f)b.plugins[e]=b.plugins[e]||[],b.plugins[e].push([d,f[e]])},call:function(a,b,f,e){if((b=a.plugins[b])&&(e||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<b.length;e++)a.options[b[e][0]]&&
b[e][1].apply(a.element,f)}}})(n);(function(a,m,h){var g=function(b,f){var c=b.parent(),d=[],g=function(){var e=a(this);e=a.mobile.toolbar&&e.data("mobile-toolbar")?e.toolbar("option"):{position:e.attr("data-"+a.mobile.ns+"position"),updatePagePadding:!1!==e.attr("data-"+a.mobile.ns+"update-page-padding")};return!("fixed"===e.position&&!0===e.updatePagePadding)},e=c.children(":jqmData(role='header')").filter(g),k=b.children(":jqmData(role='header')");c=c.children(":jqmData(role='footer')").filter(g);
g=b.children(":jqmData(role='footer')");0===k.length&&0<e.length&&(d=d.concat(e.toArray()));0===g.length&&0<c.length&&(d=d.concat(c.toArray()));a.each(d,function(e,b){f-=a(b).outerHeight()});return Math.max(0,f)};a.extend(a.mobile,{window:a(m),document:a(p),keyCode:a.ui.keyCode,behaviors:{},silentScroll:function(b){"number"!==a.type(b)&&(b=a.mobile.defaultHomeScroll);a.event.special.scrollstart.enabled=!1;setTimeout(function(){m.scrollTo(0,b);a.mobile.document.trigger("silentscroll",{x:0,y:b})},20);
setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},getClosestBaseUrl:function(b){b=a(b).closest(".ui-page").jqmData("url");var f=a.mobile.path.documentBase.hrefNoHash;a.mobile.dynamicBaseEnabled&&b&&a.mobile.path.isPath(b)||(b=f);return a.mobile.path.makeUrlAbsolute(b,f)},removeActiveLinkClass:function(b){!a.mobile.activeClickedLink||a.mobile.activeClickedLink.closest("."+a.mobile.activePageClass).length&&!b||a.mobile.activeClickedLink.removeClass(a.mobile.activeBtnClass);a.mobile.activeClickedLink=
null},getInheritedTheme:function(a,f){for(var b=a[0],d="",g=/ui-(bar|body|overlay)-([a-z])\b/,e,k;b&&!((e=b.className||"")&&(k=g.exec(e))&&(d=k[2]));)b=b.parentNode;return d||f||"a"},enhanceable:function(a){return this.haveParents(a,"enhance")},hijackable:function(a){return this.haveParents(a,"ajax")},haveParents:function(b,f){if(!a.mobile.ignoreContentEnabled)return b;var c=b.length,d=a(),g,e;for(e=0;e<c;e++){var k=b.eq(e);var t=!1;for(g=b[e];g;){var h=g.getAttribute?g.getAttribute("data-"+a.mobile.ns+
f):"";if("false"===h){t=!0;break}g=g.parentNode}t||(d=d.add(k))}return d},getScreenHeight:function(){return m.innerHeight||a.mobile.window.height()},resetActivePageHeight:function(b){var f=a("."+a.mobile.activePageClass),c=f.height(),d=f.outerHeight(!0);b=g(f,"number"===typeof b?b:a.mobile.getScreenHeight());f.css("min-height","");f.height()<b&&f.css("min-height",b-(d-c))},loading:function(){var b=this.loading._widget||a(a.mobile.loader.prototype.defaultHtml).loader(),f=b.loader.apply(b,arguments);
this.loading._widget=b;return f}});a.addDependents=function(b,f){var c=a(b),d=c.jqmData("dependents")||a();c.jqmData("dependents",a(d).add(f))};a.fn.extend({removeWithDependents:function(){a.removeWithDependents(this)},enhanceWithin:function(){var b,f={},c=a.mobile.page.prototype.keepNativeSelector(),d=this;a.mobile.nojs&&a.mobile.nojs(this);a.mobile.links&&a.mobile.links(this);a.mobile.degradeInputsWithin&&a.mobile.degradeInputsWithin(this);a.fn.buttonMarkup&&this.find(a.fn.buttonMarkup.initSelector).not(c).jqmEnhanceable().buttonMarkup();
a.fn.fieldcontain&&this.find(":jqmData(role='fieldcontain')").not(c).jqmEnhanceable().fieldcontain();a.each(a.mobile.widgets,function(b,e){if(e.initSelector){var k=a.mobile.enhanceable(d.find(e.initSelector));0<k.length&&(k=k.not(c));0<k.length&&(f[e.prototype.widgetName]=k)}});for(b in f)f[b][b]();return this},addDependents:function(b){a.addDependents(this,b)},getEncodedText:function(){return a("<a>").text(this.text()).html()},jqmEnhanceable:function(){return a.mobile.enhanceable(this)},jqmHijackable:function(){return a.mobile.hijackable(this)}});
a.removeWithDependents=function(b){b=a(b);(b.jqmData("dependents")||a()).remove();b.remove()};a.addDependents=function(b,f){var c=a(b),d=c.jqmData("dependents")||a();c.jqmData("dependents",a(d).add(f))};a.find.matches=function(b,f){return a.find(b,null,null,f)};a.find.matchesSelector=function(b,f){return 0<a.find(f,null,null,[b]).length}})(n,this);(function(a,m){l.matchMedia=l.matchMedia||function(a,g){var b,f=a.documentElement,c=f.firstElementChild||f.firstChild,d=a.createElement("body"),h=a.createElement("div");
h.id="mq-test-1";h.style.cssText="position:absolute;top:-100em";d.style.background="none";d.appendChild(h);return function(a){h.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>';f.insertBefore(d,c);b=42===h.offsetWidth;f.removeChild(d);return{matches:b,media:a}}}(p);a.mobile.media=function(a){return l.matchMedia(a).matches}})(n);(function(a,m){var h={touch:"ontouchend"in p};a.mobile.support=a.mobile.support||{};a.extend(a.support,h);a.extend(a.mobile.support,h)})(n);n.extend(n.support,
{orientation:"orientation"in l&&"onorientationchange"in l});(function(a,m){function h(a){var e=a.charAt(0).toUpperCase()+a.substr(1);a=(a+" "+f.join(e+" ")+e).split(" ");for(var c in a)if(b[a[c]]!==m)return!0}var g=a("<body>").prependTo("html"),b=g[0].style,f=["Webkit","Moz","O"],c="palmGetResource"in l,d=l.operamini&&"[object OperaMini]"==={}.toString.call(l.operamini),n=l.blackberry&&!h("-webkit-transform");a.extend(a.mobile,{browser:{}});a.mobile.browser.oldIE=function(){var a=3,b=p.createElement("div"),
c=b.all||[];do b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><br><![endif]--\x3e";while(c[0]);return 4<a?a:!a}();a.extend(a.support,{pushState:"pushState"in history&&"replaceState"in history&&!(0<=l.navigator.userAgent.indexOf("Firefox")&&l.top!==l)&&-1===l.navigator.userAgent.search(/CriOS/),mediaquery:a.mobile.media("only all"),cssPseudoElement:!!h("content"),touchOverflow:!!h("overflowScrolling"),cssTransform3d:function(){var e=a.mobile.media("(-"+f.join("-transform-3d),(-")+"-transform-3d),(transform-3d)"),
b;if(e)return!!e;var c=p.createElement("div");var d={MozTransform:"-moz-transform",transform:"transform"};g.append(c);for(b in d)c.style[b]!==m&&(c.style[b]="translate3d( 100px, 1px, 1px )",e=l.getComputedStyle(c).getPropertyValue(d[b]));return!!e&&"none"!==e}(),boxShadow:!!h("boxShadow")&&!n,fixedPosition:function(){var a=navigator.userAgent,b=navigator.platform,c=a.match(/AppleWebKit\/([0-9]+)/);c=!!c&&c[1];var d=a.match(/Fennec\/([0-9]+)/);d=!!d&&d[1];var f=a.match(/Opera Mobi\/([0-9]+)/),g=!!f&&
f[1];return(-1<b.indexOf("iPhone")||-1<b.indexOf("iPad")||-1<b.indexOf("iPod"))&&c&&534>c||l.operamini&&"[object OperaMini]"==={}.toString.call(l.operamini)||f&&7458>g||-1<a.indexOf("Android")&&c&&533>c||d&&6>d||"palmGetResource"in l&&c&&534>c||-1<a.indexOf("MeeGo")&&-1<a.indexOf("NokiaBrowser/8.5.0")?!1:!0}(),scrollTop:("pageXOffset"in l||"scrollTop"in p.documentElement||"scrollTop"in g[0])&&!c&&!d,dynamicBaseTag:function(){var b=location.protocol+"//"+location.host+location.pathname+"ui-dir/",c=
a("head base"),d=null,f="";c.length?f=c.attr("href"):c=d=a("<base>",{href:b}).appendTo("head");var h=a("<a href='testurl' />").prependTo(g)[0].href;c[0].href=f||location.pathname;d&&d.remove();return 0===h.indexOf(b)}(),cssPointerEvents:function(){var a=p.createElement("x"),b=p.documentElement,c=l.getComputedStyle;if(!("pointerEvents"in a.style))return!1;a.style.pointerEvents="auto";a.style.pointerEvents="x";b.appendChild(a);c=c&&"auto"===c(a,"").pointerEvents;b.removeChild(a);return!!c}(),boundingRect:"undefined"!==
typeof p.createElement("div").getBoundingClientRect,inlineSVG:function(){var b=!!l.document.createElementNS&&!!l.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect&&!(l.opera&&-1===navigator.userAgent.indexOf("Chrome")),c=function(e){e&&b||a("html").addClass("ui-nosvg")},d=new l.Image;d.onerror=function(){c(!1)};d.onload=function(){c(1===d.width&&1===d.height)};d.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}});g.remove();c=function(){var a=l.navigator.userAgent;
return-1<a.indexOf("Nokia")&&(-1<a.indexOf("Symbian/3")||-1<a.indexOf("Series60/5"))&&-1<a.indexOf("AppleWebKit")&&a.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();a.mobile.gradeA=function(){return(a.support.mediaquery&&a.support.cssPseudoElement||a.mobile.browser.oldIE&&8<=a.mobile.browser.oldIE)&&(a.support.boundingRect||null!==a.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))};a.mobile.ajaxBlacklist=l.blackberry&&!l.WebKitPoint||d||c;c&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel",
"stylesheet")});a.support.boxShadow||a("html").addClass("ui-noboxshadow")})(n);(function(a,m){var h=a.mobile.window,g,b=function(){};a.event.special.beforenavigate={setup:function(){h.on("navigate",b)},teardown:function(){h.off("navigate",b)}};a.event.special.navigate=g={bound:!1,pushStateEnabled:!0,originalEventName:m,isPushStateEnabled:function(){return a.support.pushState&&!0===a.mobile.pushStateEnabled&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return!0===a.mobile.hashListeningEnabled},
popstate:function(b){var c=new a.Event("navigate"),d=new a.Event("beforenavigate"),f=b.originalEvent.state||{};d.originalEvent=b;h.trigger(d);d.isDefaultPrevented()||(b.historyState&&a.extend(f,b.historyState),c.originalEvent=b,setTimeout(function(){h.trigger(c,{state:f})},0))},hashchange:function(b){var c=new a.Event("navigate"),d=new a.Event("beforenavigate");d.originalEvent=b;h.trigger(d);d.isDefaultPrevented()||(c.originalEvent=b,h.trigger(c,{state:b.hashchangeState||{}}))},setup:function(){g.bound||
(g.bound=!0,g.isPushStateEnabled()?(g.originalEventName="popstate",h.bind("popstate.navigate",g.popstate)):g.isHashChangeEnabled()&&(g.originalEventName="hashchange",h.bind("hashchange.navigate",g.hashchange)))}}})(n);(function(a){a.event.special.throttledresize={setup:function(){a(this).bind("resize",m)},teardown:function(){a(this).unbind("resize",m)}};var m=function(){b=(new Date).getTime();f=b-h;250<=f?(h=b,a(this).trigger("throttledresize")):(g&&clearTimeout(g),g=setTimeout(m,250-f))},h=0,g,b,
f})(n);(function(a,m){function h(){var a=b();a!==f&&(f=a,g.trigger("orientationchange"))}var g=a(m),b,f,c={0:!0,180:!0};if(a.support.orientation){var d=m.innerWidth||g.width();var l=m.innerHeight||g.height();d=d>l&&50<d-l;l=c[m.orientation];if(d&&l||!d&&!l)c={"-90":!0,90:!0}}a.event.special.orientationchange=a.extend({},a.event.special.orientationchange,{setup:function(){if(a.support.orientation&&!a.event.special.orientationchange.disabled)return!1;f=b();g.bind("throttledresize",h)},teardown:function(){if(a.support.orientation&&
!a.event.special.orientationchange.disabled)return!1;g.unbind("throttledresize",h)},add:function(a){var e=a.handler;a.handler=function(a){a.orientation=b();return e.apply(this,arguments)}}});a.event.special.orientationchange.orientation=b=function(){var b=p.documentElement;return(a.support.orientation?c[m.orientation]:b&&1.1>b.clientWidth/b.clientHeight)?"portrait":"landscape"};a.fn.orientationchange=function(a){return a?this.bind("orientationchange",a):this.trigger("orientationchange")}})(n,this);
(function(a,l,h,g){function b(a){for(;a&&"undefined"!==typeof a.originalEvent;)a=a.originalEvent;return a}function f(b){for(var e={},c,d;b;){c=a.data(b,"virtualMouseBindings");for(d in c)c[d]&&(e[d]=e.hasVirtualBinding=!0);b=b.parentNode}return e}function c(){u&&(clearTimeout(u),u=0);u=setTimeout(function(){y=u=0;B.length=0;D=!1;z=!0},a.vmouse.resetTimerDuration)}function d(e,c,d){var f;if(!(f=d&&d[e])){if(d=!d)a:{for(d=c.target;d;){if((f=a.data(d,"virtualMouseBindings"))&&(!e||f[e]))break a;d=d.parentNode}d=
null}f=d}if(f){var k=c;d=k.type;k=a.Event(k);k.type=e;e=k.originalEvent;f=a.event.props;-1<d.search(/^(mouse|click)/)&&(f=I);if(e){var h=f.length;for(q;h;){var q=f[--h];k[q]=e[q]}}-1<d.search(/mouse(down|up)|click/)&&!k.which&&(k.which=1);if(-1!==d.search(/^touch/)&&(q=b(e),d=q.touches,q=q.changedTouches,e=d&&d.length?d[0]:q&&q.length?q[0]:g))for(d=0,f=G.length;d<f;d++)q=G[d],k[q]=e[q];a(c.target).trigger(k)}return k}function m(b){var e=a.data(b.target,"virtualTouchID");D||y&&y===e||!(e=d("v"+b.type,
b))||(e.isDefaultPrevented()&&b.preventDefault(),e.isPropagationStopped()&&b.stopPropagation(),e.isImmediatePropagationStopped()&&b.stopImmediatePropagation())}function e(e){var c=b(e).touches;if(c&&1===c.length){var k=e.target;c=f(k);c.hasVirtualBinding&&(y=K++,a.data(k,"virtualTouchID",y),u&&(clearTimeout(u),u=0),v=z=!1,k=b(e).touches[0],w=k.pageX,J=k.pageY,d("vmouseover",e,c),d("vmousedown",e,c))}}function k(a){z||(v||d("vmousecancel",a,f(a.target)),v=!0,c())}function t(e){if(!z){var k=b(e).touches[0],
g=v,h=a.vmouse.moveDistanceThreshold,l=f(e.target);(v=v||Math.abs(k.pageX-w)>h||Math.abs(k.pageY-J)>h)&&!g&&d("vmousecancel",e,l);d("vmousemove",e,l);c()}}function H(a){if(!z){z=!0;var e=f(a.target),k;d("vmouseup",a,e);v||(k=d("vclick",a,e))&&k.isDefaultPrevented()&&(k=b(a).changedTouches[0],B.push({touchID:y,x:k.clientX,y:k.clientY}),D=!0);d("vmouseout",a,e);v=!1;c()}}function x(b){b=a.data(b,"virtualMouseBindings");var e;if(b)for(e in b)if(b[e])return!0;return!1}function n(){}function p(b){var c=
b.substr(1);return{setup:function(){x(this)||a.data(this,"virtualMouseBindings",{});a.data(this,"virtualMouseBindings")[b]=!0;r[b]=(r[b]||0)+1;1===r[b]&&C.bind(c,m);a(this).bind(c,n);E&&(r.touchstart=(r.touchstart||0)+1,1===r.touchstart&&C.bind("touchstart",e).bind("touchend",H).bind("touchmove",t).bind("scroll",k))},teardown:function(){--r[b];r[b]||C.unbind(c,m);E&&(--r.touchstart,r.touchstart||C.unbind("touchstart",e).unbind("touchmove",t).unbind("touchend",H).unbind("scroll",k));var d=a(this),
f=a.data(this,"virtualMouseBindings");f&&(f[b]=!1);d.unbind(c,n);x(this)||d.removeData("virtualMouseBindings")}}}l="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" ");var G="clientX clientY pageX pageY screenX screenY".split(" "),I=a.event.props.concat(a.event.mouseHooks?a.event.mouseHooks.props:[]),r={},u=0,w=0,J=0,v=!1,B=[],D=!1,z=!1,E="addEventListener"in h,C=a(h),K=1,y=0,F,A;a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};
for(A=0;A<l.length;A++)a.event.special[l[A]]=p(l[A]);E&&h.addEventListener("click",function(b){var e=B.length,c=b.target,d,f;if(e){var k=b.clientX;var g=b.clientY;F=a.vmouse.clickDistanceThreshold;for(d=c;d;){for(f=0;f<e;f++){var h=B[f];if(d===c&&Math.abs(h.x-k)<F&&Math.abs(h.y-g)<F||a.data(d,"virtualTouchID")===h.touchID){b.preventDefault();b.stopPropagation();return}}d=d.parentNode}}},!0)})(n,l,p);(function(a,l,h){function g(b,c,d,f){var e=d.type;d.type=c;f?a.event.trigger(d,h,b):a.event.dispatch.call(b,
d);d.type=e}var b=a(p),f=a.mobile.support.touch,c=f?"touchstart":"mousedown",d=f?"touchend":"mouseup",m=f?"touchmove":"mousemove";a.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(b,c){a.fn[c]=function(a){return a?this.bind(c,a):this.trigger(c)}});a.event.special.scrollstart={enabled:!0,setup:function(){function b(a,b){d=b;g(c,d?"scrollstart":"scrollstop",a)}var c=this,d,f;a(c).bind("touchmove scroll",function(e){a.event.special.scrollstart.enabled&&
(d||b(e,!0),clearTimeout(f),f=setTimeout(function(){b(e,!1)},50))})},teardown:function(){a(this).unbind("touchmove scroll")}};a.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var e=this,c=a(e),d=!1;c.bind("vmousedown",function(f){function k(){clearTimeout(n)}function h(){k();c.unbind("vclick",l).unbind("vmouseup",k);b.unbind("vmousecancel",h)}function l(a){h();d||m!==a.target?d&&a.preventDefault():g(e,"tap",a)}d=!1;if(f.which&&1!==f.which)return!1;var m=f.target;c.bind("vmouseup",
k).bind("vclick",l);b.bind("vmousecancel",h);var n=setTimeout(function(){a.event.special.tap.emitTapOnTaphold||(d=!0);g(e,"taphold",a.Event("taphold",{target:m}))},a.event.special.tap.tapholdThreshold)})},teardown:function(){a(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup");b.unbind("vmousecancel")}};a.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1E3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(a){var b=l.pageXOffset,c=l.pageYOffset,
e=a.clientX,d=a.clientY;if(0===a.pageY&&Math.floor(d)>Math.floor(a.pageY)||0===a.pageX&&Math.floor(e)>Math.floor(a.pageX))e-=b,d-=c;else if(d<a.pageY-c||e<a.pageX-b)e=a.pageX-b,d=a.pageY-c;return{x:e,y:d}},start:function(b){var c=a.event.special.swipe.getLocation(b.originalEvent.touches?b.originalEvent.touches[0]:b);return{time:(new Date).getTime(),coords:[c.x,c.y],origin:a(b.target)}},stop:function(b){b=a.event.special.swipe.getLocation(b.originalEvent.touches?b.originalEvent.touches[0]:b);return{time:(new Date).getTime(),
coords:[b.x,b.y]}},handleSwipe:function(b,c,d,f){if(c.time-b.time<a.event.special.swipe.durationThreshold&&Math.abs(b.coords[0]-c.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(b.coords[1]-c.coords[1])<a.event.special.swipe.verticalDistanceThreshold){var e=b.coords[0]>c.coords[0]?"swipeleft":"swiperight";g(d,"swipe",a.Event("swipe",{target:f,swipestart:b,swipestop:c}),!0);g(d,e,a.Event(e,{target:f,swipestart:b,swipestop:c}),!0);return!0}return!1},eventInProgress:!1,setup:function(){var e=
this,f=a(e),g={};var h=a.data(this,"mobile-events");h||(h={length:0},a.data(this,"mobile-events",h));h.length++;h.swipe=g;g.start=function(c){if(!a.event.special.swipe.eventInProgress){a.event.special.swipe.eventInProgress=!0;var f,k=a.event.special.swipe.start(c),h=c.target,l=!1;g.move=function(b){k&&!b.isDefaultPrevented()&&(f=a.event.special.swipe.stop(b),!l&&(l=a.event.special.swipe.handleSwipe(k,f,e,h))&&(a.event.special.swipe.eventInProgress=!1),Math.abs(k.coords[0]-f.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&
b.preventDefault())};g.stop=function(){l=!0;a.event.special.swipe.eventInProgress=!1;b.off(m,g.move);g.move=null};b.on(m,g.move).one(d,g.stop)}};f.on(c,g.start)},teardown:function(){var e;if(e=a.data(this,"mobile-events")){var f=e.swipe;delete e.swipe;e.length--;0===e.length&&a.removeData(this,"mobile-events")}f&&(f.start&&a(this).off(c,f.start),f.move&&b.off(m,f.move),f.stop&&b.off(d,f.stop))}};a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(b,
c){a.event.special[b]={setup:function(){a(this).bind(c,a.noop)},teardown:function(){a(this).unbind(c)}}})})(n,this)});