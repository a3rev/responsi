!function(e,o){e.customize.Customize_Background_Patterns_Control=e.customize.Control.extend({ready:function(){var e=this;e.container.find("span.bp-item").on("click",function(){o(this).siblings("span.bp-item").removeClass("background-selected"),o(this).addClass("background-selected")}),e.container.find("input.bp-radio").on("change",function(){e.setting.set(o(this).val())});var n=e.container.parent("ul.accordion-section-content").parent("li.accordion-section");0==n.length&&(n=e.container.parent("ul.customize-pane-child")),n.on("expanded",function(){if(!e.container.hasClass("applied_background_patterns")){e.container.addClass("applied_background_patterns");var o=0;_.each(_wpCustomBackgroundPatternsControl.backgrounds,function(n,t){o++,e.container.find(".bp-item-"+o).attr("style","background:#fff url("+_wpCustomBackgroundPatternsControl.bg_url+"/backgrounds/"+n+")")}),_.each(_wpCustomBackgroundPatternsControl.patterns,function(n,t){o++,e.container.find(".bp-item-"+o).attr("style","background:#fff url("+_wpCustomBackgroundPatternsControl.bg_url+"/patterns/"+n+")")})}})}}),e.customize.Customize_Border_Control=e.customize.Control.extend({ready:function(){var e=this,n=this.container.find(".color-picker-hex"),t=e.container.find("select.responsi-border-width"),i=e.container.find("select.responsi-border-style"),a=e.id;t.on("change",function(){e.settings[a+"[width]"].set(o(this).val())}),i.on("change",function(){e.settings[a+"[style]"].set(o(this).val())});var r=e.container.parent("ul.accordion-section-content").parent("li.accordion-section");0==r.length&&(r=e.container.parent("ul.customize-pane-child")),r.on("expanded",function(){if(!e.container.hasClass("applied_border")){e.container.addClass("applied_border");for(var r="",s=_wpCustomBorderControl.width.min;s<=_wpCustomBorderControl.width.max;s++)r="",s==e.params.values.width&&(r='selected="select"'),t.append('<option value="'+s+'" '+r+" >"+s+"px</option>");var c="";_.each(_wpCustomBorderControl.styles,function(o,n){c="",n==e.params.values.style&&(c='selected="select"'),i.append('<option value="'+n+'" '+c+" >"+o+"</option>")}),n.val(e.params.values.color).wpColorPicker({change:function(){e.settings[a+"[color]"].set(n.wpColorPicker("color"))},clear:function(){e.settings[a+"[color]"].set("")}}).bind("change keyup",function(){e.settings[a+"[color]"].set(o(this).val())})}})}}),e.customize.Customize_BorderRadius_Control=e.customize.Control.extend({ready:function(){var e=this,o=e.container.find(".responsi-ui-icheckbox"),n=e.container.find(".ui-slide"),t=e.container.find(".responsi-slide-value"),i=e.id,a=parseInt(_wpCustomBorderRadiusControl.rounded.min),r=parseInt(_wpCustomBorderRadiusControl.rounded.max),s=parseInt(_wpCustomBorderRadiusControl.rounded.step),c=parseInt(e.params.values.rounded_value),l=_wpCustomBorderRadiusControl.corner.checked_value,d=_wpCustomBorderRadiusControl.corner.unchecked_value,u=_wpCustomBorderRadiusControl.corner.checked_label,p=_wpCustomBorderRadiusControl.corner.unchecked_label,h=parseInt(_wpCustomBorderRadiusControl.corner.container_width),m=e.params.values.corner;m==l?e.container.find(".responsi-range-slider").show():e.container.find(".responsi-range-slider").hide();var C=e.container.parent("ul.accordion-section-content").parent("li.accordion-section");0==C.length&&(C=e.container.parent("ul.customize-pane-child")),C.on("expanded",function(){e.container.hasClass("applied_border_radius")||(e.container.addClass("applied_border_radius"),o.iphoneStyle({resizeContainer:!0,containerWidth:h,resizeHandle:!1,handleMargin:10,handleRadius:5,containerRadius:0,checkedLabel:u,uncheckedLabel:p,onChange:function(n,t){var a=t.toString();if(n.prop("checked")){var r=l;e.container.find(".responsi-range-slider").show()}else{var r=d;e.container.find(".responsi-range-slider").hide()}e.settings[i+"[corner]"].set(r),o.trigger("responsi-ui-icheckbox-switch",[n,a])},onEnd:function(e,n){var t=n.toString();o.trigger("responsi-ui-icheckbox-switch-end",[e,t])}}),n.slider({isRTL:!0,range:"min",min:a,max:r,value:c,step:s,slide:function(e,o){t.val(o.value).trigger("keyup")},change:function(o,n){e.settings[i+"[rounded_value]"].set(n.value)}}))})}}),e.customize.Customize_BoxShadow_Control=e.customize.Control.extend({ready:function(){var e=this,n=e.container.find(".color-picker-hex"),t=e.container.find(".responsi-box-shadow-onoff"),i=e.container.find(".responsi-box-shadow-inset"),a=e.container.find("select.responsi-box-shadow_h_shadow"),r=e.container.find("select.responsi-box-shadow_v_shadow"),s=e.container.find("select.responsi-box-shadow_blur"),c=e.container.find("select.responsi-box-shadow_spread"),l=e.id,d=_wpCustomBoxShadowControl.onoff.checked_value,u=_wpCustomBoxShadowControl.onoff.unchecked_value,p=_wpCustomBoxShadowControl.onoff.checked_label,h=_wpCustomBoxShadowControl.onoff.unchecked_label,m=parseInt(_wpCustomBoxShadowControl.onoff.container_width),C=e.params.values.onoff,g=_wpCustomBoxShadowControl.inset.checked_value,f=_wpCustomBoxShadowControl.inset.unchecked_value,_=_wpCustomBoxShadowControl.inset.checked_label,v=_wpCustomBoxShadowControl.inset.unchecked_label,w=parseInt(_wpCustomBoxShadowControl.inset.container_width);setTimeout(function(){C==d?e.container.find(".responsi-box-shadow-container").show():e.container.find(".responsi-box-shadow-container").hide()},5e3);var k=e.container.parent("ul.accordion-section-content").parent("li.accordion-section");0==k.length&&(k=e.container.parent("ul.customize-pane-child")),k.on("expanded",function(){if(!e.container.hasClass("applied_box_shadow")){e.container.addClass("applied_box_shadow");for(var C="",k="",z="",b="",x=_wpCustomBoxShadowControl.size.min;x<=_wpCustomBoxShadowControl.size.max;x++)C="",x+"px"==e.params.values.h_shadow&&(C='selected="select"'),a.append('<option value="'+x+'px" '+C+" >"+x+"px</option>"),k="",x+"px"==e.params.values.v_shadow&&(k='selected="select"'),r.append('<option value="'+x+'px" '+k+" >"+x+"px</option>"),z="",x+"px"==e.params.values.blur&&(z='selected="select"'),s.append('<option value="'+x+'px" '+z+" >"+x+"px</option>"),b="",x+"px"==e.params.values.spread&&(b='selected="select"'),c.append('<option value="'+x+'px" '+b+" >"+x+"px</option>");t.iphoneStyle({resizeContainer:!0,containerWidth:m,resizeHandle:!1,handleMargin:10,handleRadius:5,containerRadius:0,checkedLabel:p,uncheckedLabel:h,onChange:function(o,n){var i=n.toString();if(o.prop("checked")){var a=d;e.container.find(".responsi-box-shadow-container").show()}else{var a=u;e.container.find(".responsi-box-shadow-container").hide()}e.settings[l+"[onoff]"].set(a),t.trigger("responsi-ui-icheckbox-switch",[o,i])},onEnd:function(e,o){var n=o.toString();t.trigger("responsi-ui-icheckbox-switch-end",[e,n])}}),i.iphoneStyle({resizeContainer:!0,containerWidth:w,resizeHandle:!1,handleMargin:10,handleRadius:5,containerRadius:0,checkedLabel:_,uncheckedLabel:v,onChange:function(o,n){var t=n.toString();if(o.prop("checked"))var a=g;else var a=f;e.settings[l+"[inset]"].set(a),i.trigger("responsi-ui-icheckbox-switch",[o,t])},onEnd:function(e,o){var n=o.toString();i.trigger("responsi-ui-icheckbox-switch-end",[e,n])}}),n.val(e.params.values.color).wpColorPicker({change:function(){e.settings[l+"[color]"].set(n.wpColorPicker("color"))},clear:function(){e.settings[l+"[color]"].set("")}}).bind("change keyup",function(){e.settings[l+"[color]"].set(o(this).val())})}}),a.on("change",function(){e.settings[l+"[h_shadow]"].set(o(this).val())}),r.on("change",function(){e.settings[l+"[v_shadow]"].set(o(this).val())}),s.on("change",function(){e.settings[l+"[blur]"].set(o(this).val())}),c.on("change",function(){e.settings[l+"[spread]"].set(o(this).val())})}}),e.customize.Customize_iCheckbox_Control=e.customize.Control.extend({ready:function(){var e=this,n=this.container.find(".responsi-ui-icheckbox"),t=e.id,i=n.data("customize-setting-link"),a=e.params.checked_value,r=e.params.unchecked_value,s=e.params.checked_label,c=e.params.unchecked_label,l=parseInt(e.params.container_width);n.on(t,function(){null===e.setting?e.settings[i].set(o(this).val()):e.setting.set(o(this).val())});var d=e.container.parent("ul.accordion-section-content").parent("li.accordion-section");0==d.length&&(d=e.container.parent("ul.customize-pane-child")),d.on("expanded",function(){e.container.hasClass("applied_icheckbox")||(e.container.addClass("applied_icheckbox"),n.iphoneStyle({resizeContainer:!0,containerWidth:l,resizeHandle:!1,handleMargin:10,handleRadius:5,containerRadius:0,checkedLabel:s,uncheckedLabel:c,onChange:function(o,t){var s=t.toString();if(o.prop("checked"))var c=a;else var c=r;null===e.setting?e.settings[i].set(c):e.setting.set(c),n.trigger("responsi-ui-icheckbox-switch",[o,s])},onEnd:function(e,o){var t=o.toString();n.trigger("responsi-ui-icheckbox-switch-end",[e,t])}}))})}}),e.customize.Customize_iMultiCheckbox_Control=e.customize.Control.extend({ready:function(){var e=this,n=_wpCustomIMultiCheckboxControl.onoff.checked_value,t=_wpCustomIMultiCheckboxControl.onoff.unchecked_value,i=_wpCustomIMultiCheckboxControl.onoff.checked_label,a=_wpCustomIMultiCheckboxControl.onoff.unchecked_label,r=parseInt(_wpCustomIMultiCheckboxControl.onoff.container_width),s=e.container.parent("ul.accordion-section-content").parent("li.accordion-section");0==s.length&&(s=e.container.parent("ul.customize-pane-child")),s.on("expanded",function(){e.container.hasClass("applied_imulticheckbox")||(e.container.addClass("applied_imulticheckbox"),e.container.find("input.responsi-ui-imulticheckbox").each(function(s){var c=o(this).attr("name"),l=o(this).data("customize-setting-link");o(this).iphoneStyle({resizeContainer:!0,containerWidth:r,resizeHandle:!1,handleMargin:10,handleRadius:5,containerRadius:0,checkedLabel:i,uncheckedLabel:a,onChange:function(i,a){var r=a.toString();if(i.prop("checked"))var s=n;else var s=t;e.settings[l].set(s.toString()),o('input[name="'+c+'"]').trigger("responsi-ui-icheckbox-switch",[i,r])},onEnd:function(e,n){var t=n.toString();o('input[name="'+c+'"]').trigger("responsi-ui-icheckbox-switch-end",[e,t])}})}))})}}),e.customize.Customize_iColor_Control=e.customize.Control.extend({ready:function(){var e=this,n=this.container.find(".responsi-color-picker"),t=e.container.parent("ul.accordion-section-content").parent("li.accordion-section");0==t.length&&(t=e.container.parent("ul.customize-pane-child")),t.on("expanded",function(){e.container.hasClass("applied_icolor")||(e.container.addClass("applied_icolor"),n.val(e.params.defaultValue).wpColorPicker({change:function(){e.setting.set(n.wpColorPicker("color"))},clear:function(){e.setting.set("")}}).bind("change keyup",function(){e.setting.set(o(this).val())}))})}}),e.customize.Customize_iEditor_Control=e.customize.Control.extend({currentContentId:"",currentEditorPage:"",wpFullOverlayOriginalZIndex:0,ready:function(){var e=this;_.bindAll(e,"openFrame","hideEditor"),e.container.on("click keydown","button.show-editor-button",e.openFrame),o("a.close-editor-button").on("click keydown",function(){return e.hideEditor(),!1}),o(document).on("click keydown",'.update-editor-button[data-id="'+e.id+'"]',function(){return e.updateAndCloseEditor(e),!1}),e.setting.bind(function(){e.renderContent()})},openFrame:function(o){e.customize.utils.isKeydownButNotEnterEvent(o)||(o.preventDefault(),this.frame||this.initFrame())},initFrame:function(){var e=this,o=e.id;this.frame=this.showEditor(e,o)},showEditor:function(e,n){o("#wp-editor-customize-backdrop").show(),o("#wp-editor-customize-container").show(),this.currentContentId=n,this.currentEditorPage=o("body").hasClass("wp-customizer")?"wp-customizer":"","wp-customizer"==this.currentEditorPage&&(this.wpFullOverlayOriginalZIndex=parseInt(o(".wp-full-overlay").css("zIndex")),o(".wp-full-overlay").css({zIndex:49e3})),this.setEditorContent(e,n)},setEditorContent:function(e,n){var t=tinyMCE.EditorManager.get("wpeditorcustomize"),i=e.setting._value;o("#wpeditor_customize_title").html(e.params.label),o("a.update-editor-button").attr("data-id",e.id),i=o("#wp-wpeditorcustomize-wrap").hasClass("html-active")?switchEditors.pre_wpautop(i):switchEditors.wpautop(i),o("#wpeditorcustomize").val(i),"object"==typeof t&&null!==t&&t.setContent(i)},updateAndCloseEditor:function(e){var n=tinyMCE.EditorManager.get("wpeditorcustomize");if("undefined"==typeof n||null==n||n.isHidden())var t=o("#wpeditorcustomize").val();else var t=n.getContent();e.setting.set(t),this.hideEditor()},hideEditor:function(){o("#wp-editor-customize-backdrop").hide(),o("#wp-editor-customize-container").hide(),"wp-customizer"==this.currentEditorPage&&o(".wp-full-overlay").css({zIndex:this.wpFullOverlayOriginalZIndex})}}),e.customize.Customize_iRadio_Control=e.customize.Control.extend({ready:function(){var e=this,n=e.container.parent("ul.accordion-section-content").parent("li.accordion-section");0==n.length&&(n=e.container.parent("ul.customize-pane-child")),n.on("expanded",function(){e.container.hasClass("applied_iradio")||(e.container.addClass("applied_iradio"),e.container.find("input.responsi-ui-iradio").each(function(n){var t=_wpCustomIRadioControl.onoff.checked_label,i=_wpCustomIRadioControl.onoff.unchecked_label,a=parseInt(_wpCustomIRadioControl.onoff.container_width),r=o(this).attr("name"),s=o(this);s.iphoneStyle({resizeContainer:!0,containerWidth:a,resizeHandle:!1,handleMargin:10,handleRadius:5,containerRadius:0,checkedLabel:t,uncheckedLabel:i,onChange:function(n,t){var i=t.toString();n.prop("checked")&&o('input[name="'+r+'"]').not(s).removeAttr("checked").removeAttr("checkbox-disabled").iphoneStyle("refresh"),e.setting.set(s.val()),o('input[name="'+r+'"]').trigger("responsi-ui-iradio-switch",[n,i])},onEnd:function(n,t){var i=t.toString();n.prop("checked")&&(o('input[name="'+r+'"]').not(s).removeAttr("checkbox-disabled"),o(s).attr("checkbox-disabled","true")),e.setting.set(s.val()),o('input[name="'+r+'"]').trigger("responsi-ui-iradio-switch-end",[n,i])}})}))})}}),e.customize.Customize_iSelect_Control=e.customize.Control.extend({ready:function(){var e=this;e.container.find("select.responsi-iselect").on("change",function(){e.setting.set(o(this).val())})}}),e.customize.Customize_iText_Control=e.customize.Control.extend({ready:function(){var e=this;e.container.find("input.responsi-itext").on("change keyup",function(){e.setting.set(o(this).val())})}}),e.customize.Customize_iTextarea_Control=e.customize.Control.extend({ready:function(){var e=this;e.container.find("textarea.responsi-itextarea").on("change keyup",function(){e.setting.set(o(this).val())})}}),e.customize.Customize_iUpload_Control=e.customize.ImageControl.extend({}),e.customize.Customize_iUploadCrop_Control=e.customize.CroppedImageControl.extend({}),e.customize.Customize_Layout_Control=e.customize.Control.extend({ready:function(){var e=this;e.container.find("img.responsi-radio-img-img").on("click",function(){o(this).parent(".layout-item").siblings(".layout-item").children("img.responsi-radio-img-img").removeClass("responsi-radio-img-selected"),o(this).addClass("responsi-radio-img-selected");var n=o(this).data("value");e.logicLayout(o(this),n),e.logicLayoutThumbnail(o(this),n)}),e.container.find("input.responsi-radio-img-radio").on("change",function(){e.setting.set(o(this).val())})},logicLayout:function(e,n){"one-col"==n&&e.parent().parent().parent(".layout-logic").siblings(".layout-content-logic").find("img").each(function(){o(this).show()}),("two-col-left"==n||"two-col-right"==n)&&e.parent().parent().parent(".layout-logic").siblings(".layout-content-logic").find("img").each(function(){6==o(this).data("value")?o(this).hide():o(this).show(),o(this).hasClass("responsi-radio-img-selected")&&6==o(this).data("value")&&o(this).parent(".layout-item").siblings(".layout-item-5").find("img").click()}),("three-col-left"==n||"three-col-middle"==n||"three-col-right"==n)&&e.parent().parent().parent(".layout-logic").siblings(".layout-content-logic").find("img").each(function(){5==o(this).data("value")||6==o(this).data("value")?o(this).hide():o(this).show(),o(this).hasClass("responsi-radio-img-selected")&&o(this).data("value")>=5&&o(this).parent(".layout-item").siblings(".layout-item-4").find("img").click()})},logicLayoutThumbnail:function(e,o){"top"==o?e.parent().parent().parent(".post-thumb-type").siblings(".for-post-thumb-type").addClass("hide"):e.parent().parent().parent(".post-thumb-type").siblings(".for-post-thumb-type").removeClass("hide")}}),e.customize.Customize_Multiple_Text_Control=e.customize.Control.extend({ready:function(){var e=this;e.container.find("input.responsi-multitext").on("change keyup",function(){var n=o(this).data("customize-setting-link");e.settings[n].set(o(this).val())})}}),e.customize.Customize_Slider_Control=e.customize.Control.extend({ready:function(){var e=this,o=e.container.find(".ui-slide"),n=e.container.find(".responsi-slide-value"),t=e.params.setting_id,i=parseInt(e.params.min),a=parseInt(e.params.max),r=parseInt(e.params.step),s=parseInt(e.params.value),c=e.container.parent("ul.accordion-section-content").parent("li.accordion-section");0==c.length&&(c=e.container.parent("ul.customize-pane-child")),c.on("expanded",function(){e.container.hasClass("applied_slider")||(e.container.addClass("applied_slider"),o.slider({isRTL:!0,range:"min",min:i,max:a,value:s,step:r,slide:function(e,o){n.val(o.value).trigger("keyup")},change:function(o,n){null===e.setting?e.settings[t].set(n.value):e.setting.set(n.value)}}))})}}),e.customize.Customize_Typography_Control=e.customize.Control.extend({ready:function(){var e=this,n=this.container.find(".color-picker-hex"),t=e.container.find("select.responsi-typography-size"),i=e.container.find("select.responsi-typography-line-height"),a=e.container.find("select.responsi-typography-face"),r=e.container.find("select.responsi-typography-style"),s=e.id;t.on("change",function(){e.settings[s+"[size]"].set(o(this).val())}),i.on("change",function(){e.settings[s+"[line_height]"].set(o(this).val())}),a.on("change",function(){e.settings[s+"[face]"].set(o(this).val())}),r.on("change",function(){e.settings[s+"[style]"].set(o(this).val())});var c=e.container.parent("ul.accordion-section-content").parent("li.accordion-section");0==c.length&&(c=e.container.parent("ul.customize-pane-child")),c.on("expanded",function(){if(!e.container.hasClass("applied_typography")){e.container.addClass("applied_typography");for(var c="",l=_wpCustomTypographyControl.size.min;l<=_wpCustomTypographyControl.size.max;l++)c="",l==e.params.values.size&&(c='selected="select"'),t.append('<option value="'+l+'" '+c+" >"+l+"px</option>");var d="";_.each(_wpCustomTypographyControl.line_heights,function(o,n){d="",o==e.params.values.line_height&&(d='selected="select"'),i.append('<option value="'+o+'" '+d+" >"+o+"</option>")});var u="";_.each(_wpCustomTypographyControl.styles,function(o,n){u="",n==e.params.values.style&&(u='selected="select"'),r.append('<option value="'+n+'" '+u+" >"+o+"</option>")});var p="";_.each(_wpCustomTypographyControl.fonts,function(o,n){p="",n==e.params.values.face&&(p='selected="select"'),a.append('<option value="'+n+'" '+p+" >"+o.name+"</option>")}),n.val(e.params.values.color).wpColorPicker({change:function(){e.settings[s+"[color]"].set(n.wpColorPicker("color"))},clear:function(){e.settings[s+"[color]"].set("")}}).bind("change keyup",function(){e.settings[s+"[color]"].set(o(this).val())})}})}}),e.customize.Customize_iBackground_Control=e.customize.Control.extend({ready:function(){var e=this,n=e.container.find(".color-picker-hex"),t=e.container.find(".responsi-ibackground-onoff"),i=e.id,a=_wpCustomiBackgroundControl.onoff.checked_value,r=_wpCustomiBackgroundControl.onoff.unchecked_value,s=_wpCustomiBackgroundControl.onoff.checked_label,c=_wpCustomiBackgroundControl.onoff.unchecked_label,l=parseInt(_wpCustomiBackgroundControl.onoff.container_width),d=e.params.values.onoff;setTimeout(function(){d==a?e.container.find(".responsi-ibackground-container").show():e.container.find(".responsi-ibackground-container").hide()},5e3);var u=e.container.parent("ul.accordion-section-content").parent("li.accordion-section");0==u.length&&(u=e.container.parent("ul.customize-pane-child")),u.on("expanded",function(){e.container.hasClass("applied_box_shadow")||(e.container.addClass("applied_ibackground"),t.iphoneStyle({resizeContainer:!0,containerWidth:l,resizeHandle:!1,handleMargin:10,handleRadius:5,containerRadius:0,checkedLabel:s,uncheckedLabel:c,onChange:function(o,n){var s=n.toString();if(o.prop("checked")){var c=a;e.container.find(".responsi-ibackground-container").show()}else{var c=r;e.container.find(".responsi-ibackground-container").hide()}e.settings[i+"[onoff]"].set(c),t.trigger("responsi-ui-icheckbox-switch",[o,s])},onEnd:function(e,o){var n=o.toString();t.trigger("responsi-ui-icheckbox-switch-end",[e,n])}}),n.val(e.params.values.color).wpColorPicker({change:function(){e.settings[i+"[color]"].set(n.wpColorPicker("color"))},clear:function(){e.settings[i+"[color]"].set("")}}).bind("change keyup",function(){e.settings[i+"[color]"].set(o(this).val())}))})}}),o.extend(e.customize.controlConstructor,{icheckbox:e.customize.Customize_iCheckbox_Control,imulticheckbox:e.customize.Customize_iMultiCheckbox_Control,iswitcher:e.customize.Customize_iCheckbox_Control,iradio:e.customize.Customize_iRadio_Control,icolor:e.customize.Customize_iColor_Control,iselect:e.customize.Customize_iSelect_Control,itext:e.customize.Customize_iText_Control,itextarea:e.customize.Customize_iTextarea_Control,multitext:e.customize.Customize_Multiple_Text_Control,slider:e.customize.Customize_Slider_Control,typography:e.customize.Customize_Typography_Control,border:e.customize.Customize_Border_Control,border_radius:e.customize.Customize_BorderRadius_Control,box_shadow:e.customize.Customize_BoxShadow_Control,background_patterns:e.customize.Customize_Background_Patterns_Control,iupload:e.customize.Customize_iUpload_Control,iuploadcrop:e.customize.Customize_iUploadCrop_Control,layout:e.customize.Customize_Layout_Control,ieditor:e.customize.Customize_iEditor_Control,ibackground:e.customize.Customize_iBackground_Control})}(window.wp,jQuery);